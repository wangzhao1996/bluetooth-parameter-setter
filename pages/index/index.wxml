<view class="page">
    <mp-navigation-bar back="{{ false }}" color="#fefefe" title="附近的设备" loading="{{ !pageNodata && !deviceList.length }}" />
    <view wx:if="{{ settingButtonShow }}" class="page-nodata weui-flex">
        <mp-icon icon="error" color="#ffffff" size="100" />
        <button class="button button--mini button--mini--mt" plain="{{ true }}" type="mini" open-type="openSetting">允许蓝牙授权</button>
    </view>
    <view wx:elif="{{ pageNodata && !deviceList.length }}" class="page-nodata weui-flex">
        <mp-icon icon="error" color="#ffffff" size="100" />
        <button class="button button--mini button--mini--mt" plain="{{ true }}" type="mini" bindtap="onReLoad">重新获取</button>
    </view>
    <navigator wx:for="{{ deviceList }}" wx:key="deviceId" class="dev" url="{{ item.jumpUrl }}">
        <view class="dev__info">
            <view class="dev__info__name text__line1">
                {{item.name}}
            </view>
            <view class="dev__info__subname text__line1">
                rssi: {{item.rssi}}
            </view>
            <view class="dev__info__subname text__line1">
                deviceId: {{item.deviceId}}
            </view>
        </view>
        <view class="dev__rssi" style="vertical-align:middle">
            <image class="dev__rssi__image" src="{{item.img}}" />
        </view>
    </navigator>
</view>