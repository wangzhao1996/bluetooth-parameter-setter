<!--page/settings/index.wxml-->
<view class="page page_background_img">
    <view style="height: 0; padding-top: 204rpx;">
        <mp-navigation-bar back="{{ flase }}" color="#fefefe" title="{{ navTitle }}">
            <view slot="left" class="nav-icon back_background_img" bindtap="backClick"></view>
        </mp-navigation-bar>
    </view>
    <view class="circle-wrapper">
        <view class="weui-flex circle-info">
            <wz-progress value="{{ currentSOC.title * 1 }}">
                <view class="progress weui-flex">
                    <image class="progress-icon" src="../../imgs/icon/vector.png" />
                    <view class="progress-number">{{ currentSOC.title }}<text class="unit">%</text></view>
                </view>
            </wz-progress>
        </view>
    </view>
    <view class="info-items weui-flex">
        <block wx:for="{{ renderItems }}" wx:key="index">
            <!-- 测量电流 -->
            <view wx:if="{{ item.key === 'MeasCur' }}" class="info-item weui-flex banner_a_background_img">
                <view class="info-item-label">{{ item.label }}</view>
                <view class="info-item-value">{{ item.title }}<text class="unit">{{ item.subtitle || '' }}</text></view>
            </view>
            <!-- 测量电压 -->
            <view wx:if="{{ item.key === 'MeasVol' }}" class="info-item weui-flex banner_v_background_img">
                <view class="info-item-label">{{ item.label }}</view>
                <view class="info-item-value">{{ item.title }}<text class="unit">{{ item.subtitle || '' }}</text></view>
            </view>
        </block>
    </view>
    <view class="info-seting weui-flex">
        <block wx:for="{{ renderItems }}" wx:key="index">
            <!-- 电池温度 -->
            <view wx:if="{{ item.key === 'HigTemp' }}" class="info-setting-item weui-flex card_w_background_img">
                <view class="info-setting-label">{{ item.label }}</view>
                <view class="info-setting-value">{{ item.title || '0' }}<text class="unit">{{ item.subtitle || '' }}</text></view>
            </view>
            <!-- 取电时长 -->
            <view wx:if="{{ item.key === 'WorkTime' }}" class="info-setting-item weui-flex card_t_background_img">
                <view class="info-setting-label">{{ item.label }}</view>
                <view class="info-setting-value">{{ item.title || '0' }}<text class="unit">{{ item.subtitle || '' }}</text></view>
            </view>
        </block>
        <!-- 终止放电SOC -->
        <view class="info-setting-item weui-flex card_background_img">
            <view class="info-setting-label">{{ currentSetDevSoc.actionLabelName }}</view>
            <view class="info-setting-value">{{ currentSetDevSoc.title || '0' }}<text class="unit">%</text></view>
            <view class="info-setting-btn weui-flex">
                <image class="info-setting-button" src="../../imgs/icon/set_reduce.png" bindtap="setDevSocReduceClick" />
                <image class="info-setting-button" src="../../imgs/icon/set_add.png" bindtap="setDevSocAddClick" />
            </view>
        </view>
    </view>
    <!-- 开关 -->
    <view class="button-setting weui-flex">
        <view wx:if="{{ renderObj.NowStatus * 1 }}" class="button-class button_e_background_img" bindtap="settingEndClick"><text style="opacity: 0;">停止放电</text></view>
        <view wx:else class="button-class button_s_background_img" bindtap="settingStartClick"><text style="opacity: 0;">开始放电</text></view>
    </view>
    <view class="info-position">
        <view class="info-position-fixed weui-flex">
            <block wx:for="{{ renderItems }}" wx:key="index">
                <!-- 单体电压 -->
                <view wx:if="{{ item.key === 'SingleV' }}" class="info-position-item weui-flex">
                    {{ item.label }}: {{ item.title }}{{ item.subtitle || '' }}
                </view>
                <!-- 电池容量 -->
                <view wx:if="{{ item.key === 'MaxBattAH' }}" class="info-position-item weui-flex">
                    {{ item.label }}: {{ item.title }}{{ item.subtitle || '' }}
                </view>
                <!-- 软件版本 -->
                <view wx:if="{{ item.key === 'SoftVer' }}" class="info-position-item weui-flex">
                    {{ item.label }}: {{ item.title }}
                </view>
            </block>
        </view>
    </view>
    <!-- <view class="info-seting">
        <view class="info-seting-title">需求设置</view>
        <view class="info-setting-item weui-flex">
            <view class="info-setting-label">{{ currentSetDevSoc.actionLabelName }}</view>
            <view class="info-setting-actions weui-flex">
                <image class="info-setting-action-icon" src="../../imgs/icon/reduce.svg" bindtap="setDevSocReduceClick" />
                <view class="info-setting-action-value">{{ currentSetDevSoc.title || '0%' }}</view>
                <image class="info-setting-action-icon" src="../../imgs/icon/add.svg" bindtap="setDevSocAddClick" />
            </view>
        </view>
    </view> -->
</view>