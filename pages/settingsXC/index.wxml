<!--page/settings/index.wxml-->
<view class="page">
    <view style="height: 0; padding-top: 60px;">
        <mp-navigation-bar color="#fefefe" title="{{ navTitle }}" />
    </view>
    <view class="circle-wrapper">
        <wz-circle value="{{ currentSOC.title * 1 }}">
            <view class="weui-flex circle-info">
                <image class="lightning" src="../../imgs/icon/lightning.svg" />
                <view class="circle-title">{{ currentSOC.title }}%</view>
                <view class="circle-subtitle">{{ currentSOC.label }}</view>
            </view>
        </wz-circle>
        <view class="info-position">
            <block wx:for="{{ renderItems }}" wx:key="index">
                <view wx:if="{{ item.key === 'SoftVer' }}">
                    {{ item.label }}: {{ item.title }}
                </view>
                <view wx:if="{{ item.key === 'MaxBattAH' }}">
                    {{ item.label }}: {{ item.title }}{{ item.subtitle || '' }}
                </view>
                <view wx:if="{{ item.key === 'SingleV' }}">
                    {{ item.label }}: {{ item.title }}{{ item.subtitle || '' }}
                </view>
            </block>
        </view>
    </view>
    <view class="info-items weui-flex">
        <block wx:for="{{ renderItems }}" wx:key="index">
            <view wx:if="{{ item.key === 'MeasCur' }}" class="info-item weui-flex">
                <view class="info-item-value">{{ item.title }}{{ item.subtitle || '' }}</view>
                <view class="info-item-label">{{ item.label }}</view>
            </view>
            <view wx:if="{{ item.key === 'MeasVol' }}" class="info-item weui-flex">
                <view class="info-item-value">{{ item.title }}{{ item.subtitle || '' }}</view>
                <view class="info-item-label">{{ item.label }}</view>
            </view>
        </block>
    </view>
    <view class="info-seting">
        <view class="info-seting-title">其他信息</view>
        <block wx:for="{{ renderItems }}" wx:key="index">
            <view wx:if="{{ item.key === 'HigTemp' || item.key === 'WorkTime' }}" class="info-setting-item weui-flex">
                <view class="info-setting-label">{{ item.label }}</view>
                <view class="info-setting-actions weui-flex">
                    <view class="info-setting-action-value">{{ item.title || '' }}{{ item.subtitle || '' }}</view>
                </view>
            </view>
        </block>
    </view>
    <view class="info-seting">
        <view class="info-seting-title">需求设置</view>
        <view class="info-setting-item weui-flex">
            <view class="info-setting-label">{{ currentSetDevSoc.actionLabelName }}</view>
            <view class="info-setting-actions weui-flex">
                <image class="info-setting-action-icon" src="../../imgs/icon/reduce.svg" bindtap="setDevSocReduceClick" />
                <view class="info-setting-action-value">{{ currentSetDevSoc.title || '0%' }}</view>
                <image class="info-setting-action-icon" src="../../imgs/icon/add.svg" bindtap="setDevSocAddClick" />
            </view>
        </view>
    </view>
    <view class="PageWarpperBottom">
        <view class="PageWarpperBottom PageWarpperBottomFixed">
            <button wx:if="{{ renderObj.NowStatus * 1 }}" class="button button--large button-end" bindtap="settingEndClick">停止放电</button>
            <button wx:else class="button button--large button-start" bindtap="settingStartClick">开始放电</button>
        </view>
    </view>
</view>